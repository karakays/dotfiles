#!/bin/sh

# disable Thinkpad touchpad
xinput --set-prop "Synaptics TM3276-022" "Device Enabled" 0

# restore modmap defaults
# setxkbmap -option 

# caps is Ctrl and Ctrl_Left is Esc
xmodmap -e "remove Lock = Caps_Lock"
xmodmap -e "remove Control = Control_L"
xmodmap -e "keysym Control_L = Escape"
xmodmap -e "keysym Caps_Lock = Control_L"
xmodmap -e "add Control = Control_L"

# adjust system bell
xset b 5 2000 200

# (external) display names are not deterministic (DP1, DP2 etc.)
# resolve this from xrandr and put names into an array
# let xrandr read it in the --output option

# external monitor setup
monitors=$(xrandr | grep -sw 'connected' | wc -l)

# adjust screen and restart wm
[[ $monitors -eq 2 ]] && xrandr --output eDP1 --primary --mode 1920x1080 --pos 0x0 --rotate normal \
    --output DP1 --mode 2560x1440 --pos 1920x0 --rotate normal \
    && i3 restart > /dev/null
